$(document).ready(function(){function ViewModel(arr){var self=this;self.maxCharacters=52,self.memory=ko.observable("").extend({maxCharacters:self.maxCharacters}),self.display=ko.observable(""),self.getLast=function(){return self.memory().split("")[self.memory().length-1]},self.evaluate=function(){self.display(eval(self.memory())),self.memory(""),self.allowFirstOperator=!0},self.allowFirstOperator=!1,self.allClear=function(){self.memory(""),self.display(""),self.allowFirstOperator=!1},self.singleClear=function(){self.memory(self.memory().slice(0,self.memory().length-1))},self.verify=function(e){switch(e){case"=":self.evaluate();break;case"AC":self.allClear();break;case"C":self.singleClear();break;case"x":(self.memory().length>0||self.allowFirstOperator)&&(e="*",self.update(e));break;case"/":(self.memory().length>0||self.allowFirstOperator)&&self.update(e);break;case"%":self.memory().length>0&&(self.update("*1/100"),self.evaluate());break;case",":e=".",this.commaValid()&&self.update(e);break;default:self.update(e)}},self.commaValid=function(){var e,l=this.memory().split("");for(e=l.length-1;e>=0;e--){if("."===l[e])return!1;if(this.isOperator(l[e]))return!0}return!0},self.update=function(e){var l=self.getLast();self.isOperator(l)&&self.isOperator(e)?self.memory(self.memory().slice(0,self.memory().length-1)+e):self.memory(self.memory()+e)},self.isOperator=function(e){var l;for(l=0;l<model.operators.length;l++)if(e===model.operators[l])return!0;return!1}}var model={operators:["+","-","/","*","%"],signs:["+","-"]},view={init:function(){this.$keys=$(".keys"),this.$keys.each(function(){$(this).click(function(){vm.verify($(this).text())})})}};view.init();var vm=new ViewModel;ko.applyBindings(vm)});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsIlZpZXdNb2RlbCIsImFyciIsInNlbGYiLCJ0aGlzIiwibWF4Q2hhcmFjdGVycyIsIm1lbW9yeSIsImtvIiwib2JzZXJ2YWJsZSIsImV4dGVuZCIsImRpc3BsYXkiLCJnZXRMYXN0Iiwic3BsaXQiLCJsZW5ndGgiLCJldmFsdWF0ZSIsImV2YWwiLCJhbGxvd0ZpcnN0T3BlcmF0b3IiLCJhbGxDbGVhciIsInNpbmdsZUNsZWFyIiwic2xpY2UiLCJ2ZXJpZnkiLCJ2YWwiLCJ1cGRhdGUiLCJjb21tYVZhbGlkIiwiaSIsIm1lbSIsImlzT3BlcmF0b3IiLCJsYXN0IiwieCIsIm1vZGVsIiwib3BlcmF0b3JzIiwic2lnbnMiLCJ2aWV3IiwiaW5pdCIsIiRrZXlzIiwiZWFjaCIsImNsaWNrIiwidm0iLCJ0ZXh0IiwiYXBwbHlCaW5kaW5ncyJdLCJtYXBwaW5ncyI6IkFBQUFBLEVBQUFDLFVBQUFDLE1BQUEsV0FFQSxRQUFBQyxXQUFBQyxLQUNBLEdBQUFDLE1BQUFDLElBRUFELE1BQUFFLGNBQUEsR0FDQUYsS0FBQUcsT0FBQUMsR0FBQUMsV0FBQSxJQUNBQyxRQUFBSixjQUFBRixLQUFBRSxnQkFFQUYsS0FBQU8sUUFBQUgsR0FBQUMsV0FBQSxJQUVBTCxLQUFBUSxRQUFBLFdBQ0EsTUFBQVIsTUFBQUcsU0FBQU0sTUFBQSxJQUFBVCxLQUFBRyxTQUFBTyxPQUFBLElBR0FWLEtBQUFXLFNBQUEsV0FFQVgsS0FBQU8sUUFBQUssS0FBQVosS0FBQUcsV0FDQUgsS0FBQUcsT0FBQSxJQUNBSCxLQUFBYSxvQkFBQSxHQUdBYixLQUFBYSxvQkFBQSxFQUVBYixLQUFBYyxTQUFBLFdBQ0FkLEtBQUFHLE9BQUEsSUFDQUgsS0FBQU8sUUFBQSxJQUNBUCxLQUFBYSxvQkFBQSxHQUdBYixLQUFBZSxZQUFBLFdBQ0FmLEtBQUFHLE9BQUFILEtBQUFHLFNBQUFhLE1BQUEsRUFBQWhCLEtBQUFHLFNBQUFPLE9BQUEsS0FHQVYsS0FBQWlCLE9BQUEsU0FBQUMsR0FDQSxPQUFBQSxHQUNBLElBQUEsSUFDQWxCLEtBQUFXLFVBQ0EsTUFDQSxLQUFBLEtBQ0FYLEtBQUFjLFVBQ0EsTUFDQSxLQUFBLElBQ0FkLEtBQUFlLGFBQ0EsTUFDQSxLQUFBLEtBQ0FmLEtBQUFHLFNBQUFPLE9BQUEsR0FBQVYsS0FBQWEsc0JBQ0FLLEVBQUEsSUFDQWxCLEtBQUFtQixPQUFBRCxHQUVBLE1BQ0EsS0FBQSxLQUNBbEIsS0FBQUcsU0FBQU8sT0FBQSxHQUFBVixLQUFBYSxxQkFDQWIsS0FBQW1CLE9BQUFELEVBRUEsTUFDQSxLQUFBLElBQ0FsQixLQUFBRyxTQUFBTyxPQUFBLElBQ0FWLEtBQUFtQixPQUFBLFVBQ0FuQixLQUFBVyxXQUVBLE1BQ0EsS0FBQSxJQUNBTyxFQUFBLElBQ0FqQixLQUFBbUIsY0FDQXBCLEtBQUFtQixPQUFBRCxFQUVBLE1BQ0EsU0FDQWxCLEtBQUFtQixPQUFBRCxLQUlBbEIsS0FBQW9CLFdBQUEsV0FDQSxHQUNBQyxHQURBQyxFQUFBckIsS0FBQUUsU0FBQU0sTUFBQSxHQUVBLEtBQUFZLEVBQUFDLEVBQUFaLE9BQUEsRUFBQVcsR0FBQSxFQUFBQSxJQUFBLENBQ0EsR0FBQSxNQUFBQyxFQUFBRCxHQUNBLE9BQUEsQ0FFQSxJQUFBcEIsS0FBQXNCLFdBQUFELEVBQUFELElBQ0EsT0FBQSxFQUdBLE9BQUEsR0FHQXJCLEtBQUFtQixPQUFBLFNBQUFELEdBQ0EsR0FBQU0sR0FBQXhCLEtBQUFRLFNBQ0FSLE1BQUF1QixXQUFBQyxJQUFBeEIsS0FBQXVCLFdBQUFMLEdBQ0FsQixLQUFBRyxPQUFBSCxLQUFBRyxTQUFBYSxNQUFBLEVBQUFoQixLQUFBRyxTQUFBTyxPQUFBLEdBQUFRLEdBR0FsQixLQUFBRyxPQUFBSCxLQUFBRyxTQUFBZSxJQUlBbEIsS0FBQXVCLFdBQUEsU0FBQUUsR0FDQSxHQUFBSixFQUNBLEtBQUFBLEVBQUEsRUFBQUEsRUFBQUssTUFBQUMsVUFBQWpCLE9BQUFXLElBQ0EsR0FBQUksSUFBQUMsTUFBQUMsVUFBQU4sR0FBQSxPQUFBLENBRUEsUUFBQSxHQUlBLEdBQUFLLFFBQ0FDLFdBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxLQUNBQyxPQUFBLElBQUEsTUFHQUMsTUFDQUMsS0FBQSxXQUNBN0IsS0FBQThCLE1BQUFwQyxFQUFBLFNBQ0FNLEtBQUE4QixNQUFBQyxLQUFBLFdBQ0FyQyxFQUFBTSxNQUFBZ0MsTUFBQSxXQUNBQyxHQUFBakIsT0FBQXRCLEVBQUFNLE1BQUFrQyxhQU1BTixNQUFBQyxNQUVBLElBQUFJLElBQUEsR0FBQXBDLFVBQ0FNLElBQUFnQyxjQUFBRiIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG5cdGZ1bmN0aW9uIFZpZXdNb2RlbChhcnIpIHtcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRzZWxmLm1heENoYXJhY3RlcnMgPSA1Mjtcblx0XHRzZWxmLm1lbW9yeSA9IGtvLm9ic2VydmFibGUoJycpXG5cdFx0LmV4dGVuZCh7IG1heENoYXJhY3RlcnM6IHNlbGYubWF4Q2hhcmFjdGVycyB9KTtcblxuXHRcdHNlbGYuZGlzcGxheSA9IGtvLm9ic2VydmFibGUoJycpO1xuXG5cdFx0c2VsZi5nZXRMYXN0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gc2VsZi5tZW1vcnkoKS5zcGxpdCgnJylbc2VsZi5tZW1vcnkoKS5sZW5ndGggLSAxXTtcblx0XHR9O1xuXG5cdFx0c2VsZi5ldmFsdWF0ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0LyoganNsaW50IGV2aWw6IHRydWUgKi9cblx0XHRcdHNlbGYuZGlzcGxheShldmFsKHNlbGYubWVtb3J5KCkpKTtcblx0XHRcdHNlbGYubWVtb3J5KCcnKTtcblx0XHRcdHNlbGYuYWxsb3dGaXJzdE9wZXJhdG9yID0gdHJ1ZTtcblx0XHR9O1xuXG5cdFx0c2VsZi5hbGxvd0ZpcnN0T3BlcmF0b3IgPSBmYWxzZTtcblxuXHRcdHNlbGYuYWxsQ2xlYXIgPSBmdW5jdGlvbigpIHtcblx0XHRcdHNlbGYubWVtb3J5KCcnKTtcblx0XHRcdHNlbGYuZGlzcGxheSgnJyk7XG5cdFx0XHRzZWxmLmFsbG93Rmlyc3RPcGVyYXRvciA9IGZhbHNlO1xuXHRcdH07XG5cblx0XHRzZWxmLnNpbmdsZUNsZWFyID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRzZWxmLm1lbW9yeShzZWxmLm1lbW9yeSgpLnNsaWNlKDAsIHNlbGYubWVtb3J5KCkubGVuZ3RoIC0gMSkpO1xuXHRcdH07XG5cblx0XHRzZWxmLnZlcmlmeSA9IGZ1bmN0aW9uKHZhbCkge1xuXHRcdFx0c3dpdGNoICh2YWwpIHtcblx0XHRcdFx0Y2FzZSAnPSc6XG5cdFx0XHRcdFx0c2VsZi5ldmFsdWF0ZSgpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdBQyc6XG5cdFx0XHRcdFx0c2VsZi5hbGxDbGVhcigpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdDJzpcblx0XHRcdFx0XHRzZWxmLnNpbmdsZUNsZWFyKCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ3gnOlxuXHRcdFx0XHRcdGlmIChzZWxmLm1lbW9yeSgpLmxlbmd0aCA+IDAgfHwgc2VsZi5hbGxvd0ZpcnN0T3BlcmF0b3IpIHtcblx0XHRcdFx0XHRcdHZhbCA9ICcqJztcblx0XHRcdFx0XHRcdHNlbGYudXBkYXRlKHZhbCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICcvJzpcblx0XHRcdFx0XHRpZiAoc2VsZi5tZW1vcnkoKS5sZW5ndGggPiAwIHx8IHNlbGYuYWxsb3dGaXJzdE9wZXJhdG9yKSB7XG5cdFx0XHRcdFx0XHRzZWxmLnVwZGF0ZSh2YWwpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnJSc6XG5cdFx0XHRcdFx0aWYgKHNlbGYubWVtb3J5KCkubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0c2VsZi51cGRhdGUoJyoxLzEwMCcpO1xuXHRcdFx0XHRcdFx0c2VsZi5ldmFsdWF0ZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnLCc6XG5cdFx0XHRcdFx0dmFsID0gJy4nO1xuXHRcdFx0XHRcdGlmICh0aGlzLmNvbW1hVmFsaWQoKSkge1xuXHRcdFx0XHRcdFx0c2VsZi51cGRhdGUodmFsKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0c2VsZi51cGRhdGUodmFsKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0c2VsZi5jb21tYVZhbGlkID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbWVtID0gdGhpcy5tZW1vcnkoKS5zcGxpdCgnJyk7XG5cdFx0XHR2YXIgaTtcblx0XHRcdGZvciAoaSA9IG1lbS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRpZiAobWVtW2ldID09PSAnLicpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHRoaXMuaXNPcGVyYXRvcihtZW1baV0pKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH07XG5cblx0XHRzZWxmLnVwZGF0ZSA9IGZ1bmN0aW9uKHZhbCkge1xuXHRcdFx0dmFyIGxhc3QgPSBzZWxmLmdldExhc3QoKTtcblx0XHRcdGlmKHNlbGYuaXNPcGVyYXRvcihsYXN0KSAmJiBzZWxmLmlzT3BlcmF0b3IodmFsKSkge1xuXHRcdFx0XHRzZWxmLm1lbW9yeShzZWxmLm1lbW9yeSgpLnNsaWNlKDAsIHNlbGYubWVtb3J5KCkubGVuZ3RoIC0gMSkgKyB2YWwpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdHNlbGYubWVtb3J5KHNlbGYubWVtb3J5KCkgKyB2YWwpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRzZWxmLmlzT3BlcmF0b3IgPSBmdW5jdGlvbih4KSB7XG5cdFx0XHR2YXIgaTtcblx0XHRcdGZvciAoaSA9IDA7IGkgPCBtb2RlbC5vcGVyYXRvcnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKHggPT09IG1vZGVsLm9wZXJhdG9yc1tpXSkgcmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fTtcblx0fVxuXG5cdHZhciBtb2RlbCA9ICB7XG5cdFx0b3BlcmF0b3JzOiBbJysnLCAnLScsICcvJywgJyonLCAnJSddLFxuXHRcdHNpZ25zOiBbJysnLCAnLSddXG5cdH07XG5cblx0dmFyIHZpZXcgPSB7XG5cdFx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLiRrZXlzID0gJCgnLmtleXMnKTtcblx0XHRcdHRoaXMuJGtleXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0JCh0aGlzKS5jbGljayhmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2bS52ZXJpZnkoJCh0aGlzKS50ZXh0KCkpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fTtcblxuXHR2aWV3LmluaXQoKTtcblxuXHR2YXIgdm0gPSBuZXcgVmlld01vZGVsKCk7XG5cdGtvLmFwcGx5QmluZGluZ3Modm0pO1xuXG59KTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
