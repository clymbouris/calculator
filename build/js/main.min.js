$(document).ready(function(){function ViewModel(arr){var self=this;self.maxCharacters=52,self.memory=ko.observable("").extend({maxCharacters:self.maxCharacters}),self.display=ko.observable(""),self.getLast=function(e){return self.memory().split("")[self.memory().length-1]},self.getFirst=function(e){return self.memory().split("")[0]},self.evaluate=function(){var displayLength=self.display().toString().length;if(displayLength>0&&self.isOperator(self.getFirst())){var memArray=self.memory().toString().split("");memArray.unshift(self.display()),self.memory(memArray.join(""))}var calculation;calculation=self.isDecimal(eval(self.memory()).toString())?parseFloat(eval(self.memory()).toPrecision(6)):parseFloat(eval(self.memory())),self.display(Number(calculation)),self.memory(""),self.allowFirstOperator=!0},self.allowFirstOperator=!1,self.isDecimal=function(e){var l;for(l=0;l<e.length;l++)if("."===e[l])return!0;return!1},self.allClear=function(){self.memory(""),self.display(""),self.allowFirstOperator=!1},self.singleClear=function(){self.memory(self.memory().slice(0,self.memory().length-1))},self.verify=function(e){switch(e){case"=":self.evaluate();break;case"AC":self.allClear();break;case"C":self.singleClear();break;case"x":(self.memory().length>0||self.allowFirstOperator)&&(e="*",self.update(e));break;case"/":(self.memory().length>0||self.allowFirstOperator)&&self.update(e);break;case"%":(self.memory().length>0||self.allowFirstOperator)&&(self.evaluate(),self.update("*1/100"),self.evaluate());break;case",":e=".",this.commaValid()&&self.update(e);break;default:self.update(e)}},self.commaValid=function(){var e,l=this.memory().split("");for(e=l.length-1;e>=0;e--){if("."===l[e])return!1;if(this.isOperator(l[e]))return!0}return!0},self.update=function(e){var l=self.getLast();self.isOperator(l)&&self.isOperator(e)?self.memory(self.memory().slice(0,self.memory().length-1)+e):self.memory(self.memory()+e)},self.isOperator=function(e){var l;for(l=0;l<model.operators.length;l++)if(e===model.operators[l])return!0;return!1}}var model={operators:["+","-","/","*"],signs:["+","-"]},view={init:function(){this.$keys=$(".keys"),this.$keys.each(function(){$(this).click(function(){vm.verify($(this).text())})})}};view.init();var vm=new ViewModel;ko.applyBindings(vm)});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsIlZpZXdNb2RlbCIsImFyciIsInNlbGYiLCJ0aGlzIiwibWF4Q2hhcmFjdGVycyIsIm1lbW9yeSIsImtvIiwib2JzZXJ2YWJsZSIsImV4dGVuZCIsImRpc3BsYXkiLCJnZXRMYXN0Iiwic3RyIiwic3BsaXQiLCJsZW5ndGgiLCJnZXRGaXJzdCIsImV2YWx1YXRlIiwiZGlzcGxheUxlbmd0aCIsInRvU3RyaW5nIiwiaXNPcGVyYXRvciIsIm1lbUFycmF5IiwidW5zaGlmdCIsImpvaW4iLCJjYWxjdWxhdGlvbiIsImlzRGVjaW1hbCIsImV2YWwiLCJwYXJzZUZsb2F0IiwidG9QcmVjaXNpb24iLCJOdW1iZXIiLCJhbGxvd0ZpcnN0T3BlcmF0b3IiLCJpIiwiYWxsQ2xlYXIiLCJzaW5nbGVDbGVhciIsInNsaWNlIiwidmVyaWZ5IiwidmFsIiwidXBkYXRlIiwiY29tbWFWYWxpZCIsIm1lbSIsImxhc3QiLCJ4IiwibW9kZWwiLCJvcGVyYXRvcnMiLCJzaWducyIsInZpZXciLCJpbml0IiwiJGtleXMiLCJlYWNoIiwiY2xpY2siLCJ2bSIsInRleHQiLCJhcHBseUJpbmRpbmdzIl0sIm1hcHBpbmdzIjoiQUFBQUEsRUFBQUMsVUFBQUMsTUFBQSxXQUVBLFFBQUFDLFdBQUFDLEtBQ0EsR0FBQUMsTUFBQUMsSUFFQUQsTUFBQUUsY0FBQSxHQUVBRixLQUFBRyxPQUFBQyxHQUFBQyxXQUFBLElBQ0FDLFFBQUFKLGNBQUFGLEtBQUFFLGdCQUVBRixLQUFBTyxRQUFBSCxHQUFBQyxXQUFBLElBRUFMLEtBQUFRLFFBQUEsU0FBQUMsR0FDQSxNQUFBVCxNQUFBRyxTQUFBTyxNQUFBLElBQUFWLEtBQUFHLFNBQUFRLE9BQUEsSUFFQVgsS0FBQVksU0FBQSxTQUFBSCxHQUNBLE1BQUFULE1BQUFHLFNBQUFPLE1BQUEsSUFBQSxJQUdBVixLQUFBYSxTQUFBLFdBR0EsR0FBQUMsZUFBQWQsS0FBQU8sVUFB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LElBQUFJLElBQUEsR0FBQWhELFVBQ0FNLElBQUE0QyxjQUFBRiIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG5cdGZ1bmN0aW9uIFZpZXdNb2RlbChhcnIpIHtcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRzZWxmLm1heENoYXJhY3RlcnMgPSA1MjtcblxuXHRcdHNlbGYubWVtb3J5ID0ga28ub2JzZXJ2YWJsZSgnJylcblx0XHQuZXh0ZW5kKHsgbWF4Q2hhcmFjdGVyczogc2VsZi5tYXhDaGFyYWN0ZXJzIH0pO1xuXG5cdFx0c2VsZi5kaXNwbGF5ID0ga28ub2JzZXJ2YWJsZSgnJyk7XG5cblx0XHRzZWxmLmdldExhc3QgPSBmdW5jdGlvbihzdHIpIHtcblx0XHRcdHJldHVybiBzZWxmLm1lbW9yeSgpLnNwbGl0KCcnKVtzZWxmLm1lbW9yeSgpLmxlbmd0aCAtIDFdO1xuXHRcdH07XG5cdFx0c2VsZi5nZXRGaXJzdCA9IGZ1bmN0aW9uKHN0cikge1xuXHRcdFx0cmV0dXJuIHNlbGYubWVtb3J5KCkuc3BsaXQoJycpWzBdO1xuXHRcdH07XG5cblx0XHRzZWxmLmV2YWx1YXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQvLyBJZiB0aGVyZSdzIGEgcmVzdWx0IGFscmVhZHkgZXZhbHVhdGVkIG9uIGRpc3BsYXkgdGhlbiBhcHBlbmQgdG8gbWVtb3J5IHRvIGtlZXBcblx0XHRcdC8vIGdvaW5nIHdpdGggY2FsY3VsYXRpb25zXG5cdFx0XHR2YXIgZGlzcGxheUxlbmd0aCA9IHNlbGYuZGlzcGxheSgpLnRvU3RyaW5nKCkubGVuZ3RoO1xuXHRcdFx0aWYgKGRpc3BsYXlMZW5ndGggPiAwICYmIChzZWxmLmlzT3BlcmF0b3Ioc2VsZi5nZXRGaXJzdCgpKSkpIHtcblx0XHRcdFx0Ly8gQ29udmVydCBtZW1vcnkgdG8gYXJyYXlcblx0XHRcdFx0dmFyIG1lbUFycmF5ID0gc2VsZi5tZW1vcnkoKS50b1N0cmluZygpLnNwbGl0KCcnKTtcblx0XHRcdFx0Ly8gQWRkIGRpc3BsYXkgdmFsdWUgdG8gYmVnaW5uaW5nXG5cdFx0XHRcdG1lbUFycmF5LnVuc2hpZnQoc2VsZi5kaXNwbGF5KCkpO1xuXHRcdFx0XHRzZWxmLm1lbW9yeShtZW1BcnJheS5qb2luKCcnKSk7XG5cdFx0XHR9XG5cdFx0XHQvKiBqc2xpbnQgZXZpbDogdHJ1ZSAqL1xuXHRcdFx0dmFyIGNhbGN1bGF0aW9uO1xuXHRcdFx0aWYgKHNlbGYuaXNEZWNpbWFsKGV2YWwoc2VsZi5tZW1vcnkoKSkudG9TdHJpbmcoKSkpIHtcblx0XHRcdFx0Y2FsY3VsYXRpb24gPSBwYXJzZUZsb2F0KGV2YWwoc2VsZi5tZW1vcnkoKSkudG9QcmVjaXNpb24oNikpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGNhbGN1bGF0aW9uID0gcGFyc2VGbG9hdChldmFsKHNlbGYubWVtb3J5KCkpKTtcblx0XHRcdH1cblx0XHRcdC8vIENvbnZlcnQgdG8gTnVtYmVyIHRvIHJlbW92ZSB0cmFpbGluZyB6ZXJvc1xuXHRcdFx0c2VsZi5kaXNwbGF5KE51bWJlcihjYWxjdWxhdGlvbikpO1xuXHRcdFx0Ly8gQ2xlYXIgbWVtb3J5XG5cdFx0XHRzZWxmLm1lbW9yeSgnJyk7XG5cdFx0XHRzZWxmLmFsbG93Rmlyc3RPcGVyYXRvciA9IHRydWU7XG5cdFx0fTtcblxuXHRcdHNlbGYuYWxsb3dGaXJzdE9wZXJhdG9yID0gZmFsc2U7XG5cblx0XHRzZWxmLmlzRGVjaW1hbCA9IGZ1bmN0aW9uKHN0cikge1xuXHRcdFx0dmFyIGk7XG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmKHN0cltpXSA9PT0gJy4nKSByZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9O1xuXG5cdFx0c2VsZi5hbGxDbGVhciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0c2VsZi5tZW1vcnkoJycpO1xuXHRcdFx0c2VsZi5kaXNwbGF5KCcnKTtcblx0XHRcdHNlbGYuYWxsb3dGaXJzdE9wZXJhdG9yID0gZmFsc2U7XG5cdFx0fTtcblxuXHRcdHNlbGYuc2luZ2xlQ2xlYXIgPSBmdW5jdGlvbigpIHtcblx0XHRcdHNlbGYubWVtb3J5KHNlbGYubWVtb3J5KCkuc2xpY2UoMCwgc2VsZi5tZW1vcnkoKS5sZW5ndGggLSAxKSk7XG5cdFx0fTtcblxuXHRcdHNlbGYudmVyaWZ5ID0gZnVuY3Rpb24odmFsKSB7XG5cdFx0XHRzd2l0Y2ggKHZhbCkge1xuXHRcdFx0XHRjYXNlICc9Jzpcblx0XHRcdFx0XHRzZWxmLmV2YWx1YXRlKCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ0FDJzpcblx0XHRcdFx0XHRzZWxmLmFsbENsZWFyKCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ0MnOlxuXHRcdFx0XHRcdHNlbGYuc2luZ2xlQ2xlYXIoKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAneCc6XG5cdFx0XHRcdFx0aWYgKHNlbGYubWVtb3J5KCkubGVuZ3RoID4gMCB8fCBzZWxmLmFsbG93Rmlyc3RPcGVyYXRvcikge1xuXHRcdFx0XHRcdFx0dmFsID0gJyonO1xuXHRcdFx0XHRcdFx0c2VsZi51cGRhdGUodmFsKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJy8nOlxuXHRcdFx0XHRcdGlmIChzZWxmLm1lbW9yeSgpLmxlbmd0aCA+IDAgfHwgc2VsZi5hbGxvd0ZpcnN0T3BlcmF0b3IpIHtcblx0XHRcdFx0XHRcdHNlbGYudXBkYXRlKHZhbCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICclJzpcblx0XHRcdFx0XHRpZiAoc2VsZi5tZW1vcnkoKS5sZW5ndGggPiAwIHx8IHNlbGYuYWxsb3dGaXJzdE9wZXJhdG9yKSB7XG5cdFx0XHRcdFx0XHRzZWxmLmV2YWx1YXRlKCk7XG5cdFx0XHRcdFx0XHRzZWxmLnVwZGF0ZSgnKjEvMTAwJyk7XG5cdFx0XHRcdFx0XHRzZWxmLmV2YWx1YXRlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICcsJzpcblx0XHRcdFx0XHR2YWwgPSAnLic7XG5cdFx0XHRcdFx0aWYgKHRoaXMuY29tbWFWYWxpZCgpKSB7XG5cdFx0XHRcdFx0XHRzZWxmLnVwZGF0ZSh2YWwpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRzZWxmLnVwZGF0ZSh2YWwpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRzZWxmLmNvbW1hVmFsaWQgPSBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBtZW0gPSB0aGlzLm1lbW9yeSgpLnNwbGl0KCcnKTtcblx0XHRcdHZhciBpO1xuXHRcdFx0Zm9yIChpID0gbWVtLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdGlmIChtZW1baV0gPT09ICcuJykge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAodGhpcy5pc09wZXJhdG9yKG1lbVtpXSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fTtcblxuXHRcdHNlbGYudXBkYXRlID0gZnVuY3Rpb24odmFsKSB7XG5cdFx0XHR2YXIgbGFzdCA9IHNlbGYuZ2V0TGFzdCgpO1xuXHRcdFx0aWYoc2VsZi5pc09wZXJhdG9yKGxhc3QpICYmIHNlbGYuaXNPcGVyYXRvcih2YWwpKSB7XG5cdFx0XHRcdHNlbGYubWVtb3J5KHNlbGYubWVtb3J5KCkuc2xpY2UoMCwgc2VsZi5tZW1vcnkoKS5sZW5ndGggLSAxKSArIHZhbCk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0c2VsZi5tZW1vcnkoc2VsZi5tZW1vcnkoKSArIHZhbCk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHNlbGYuaXNPcGVyYXRvciA9IGZ1bmN0aW9uKHgpIHtcblx0XHRcdHZhciBpO1xuXHRcdFx0Zm9yIChpID0gMDsgaSA8IG1vZGVsLm9wZXJhdG9ycy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAoeCA9PT0gbW9kZWwub3BlcmF0b3JzW2ldKSByZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9O1xuXHR9XG5cblx0dmFyIG1vZGVsID0gIHtcblx0XHRvcGVyYXRvcnM6IFsnKycsICctJywgJy8nLCAnKiddLFxuXHRcdHNpZ25zOiBbJysnLCAnLSddXG5cdH07XG5cblx0dmFyIHZpZXcgPSB7XG5cdFx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLiRrZXlzID0gJCgnLmtleXMnKTtcblx0XHRcdHRoaXMuJGtleXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0JCh0aGlzKS5jbGljayhmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2bS52ZXJpZnkoJCh0aGlzKS50ZXh0KCkpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fTtcblxuXHR2aWV3LmluaXQoKTtcblxuXHR2YXIgdm0gPSBuZXcgVmlld01vZGVsKCk7XG5cdGtvLmFwcGx5QmluZGluZ3Modm0pO1xuXG59KTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
