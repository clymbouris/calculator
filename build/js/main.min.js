$(document).ready(function(){function ViewModel(arr){var self=this;self.maxCharacters=52,self.memory=ko.observable("").extend({maxCharacters:self.maxCharacters}),self.display=ko.observable(""),self.getLast=function(){return self.memory().split("")[self.memory().length-1]},self.evaluate=function(){self.display(eval(self.memory())),self.memory(""),self.allowFirstOperator=!0},self.allowFirstOperator=!1,self.allClear=function(){self.memory(""),self.display("")},self.singleClear=function(){self.memory(self.memory().slice(0,self.memory().length-1))},self.verify=function(e){switch(e){case"=":self.evaluate();break;case"AC":self.allClear();break;case"C":self.singleClear();break;case"x":self.memory().length>0&&(e="*",self.update(e));break;case"/":self.memory().length>0&&self.update(e);break;case"%":self.memory().length>0&&(self.update("*"),self.update("1/100"));break;case",":e=".",this.commaValid()&&self.update(e);break;default:self.update(e)}},self.commaValid=function(){var e,s=this.memory().split("");for(e=s.length-1;e>=0;e--){if("."===s[e])return!1;if(this.isOperator(s[e]))return!0}return!0},self.update=function(e){var s=self.getLast();self.isOperator(s)&&self.isOperator(e)?self.memory(self.memory().slice(0,self.memory().length-1)+e):self.memory(self.memory()+e)},self.isOperator=function(e){var s;for(s=0;s<model.operators.length;s++)if(e===model.operators[s])return!0;return!1}}var model={operators:["+","-","/","*","%"]},view={init:function(){this.$keys=$(".keys"),this.$keys.each(function(){$(this).click(function(){vm.verify($(this).text())})})}};view.init();var vm=new ViewModel;ko.applyBindings(vm)});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsIlZpZXdNb2RlbCIsImFyciIsInNlbGYiLCJ0aGlzIiwibWF4Q2hhcmFjdGVycyIsIm1lbW9yeSIsImtvIiwib2JzZXJ2YWJsZSIsImV4dGVuZCIsImRpc3BsYXkiLCJnZXRMYXN0Iiwic3BsaXQiLCJsZW5ndGgiLCJldmFsdWF0ZSIsImV2YWwiLCJhbGxvd0ZpcnN0T3BlcmF0b3IiLCJhbGxDbGVhciIsInNpbmdsZUNsZWFyIiwic2xpY2UiLCJ2ZXJpZnkiLCJ2YWwiLCJ1cGRhdGUiLCJjb21tYVZhbGlkIiwiaSIsIm1lbSIsImlzT3BlcmF0b3IiLCJsYXN0IiwieCIsIm1vZGVsIiwib3BlcmF0b3JzIiwidmlldyIsImluaXQiLCIka2V5cyIsImVhY2giLCJjbGljayIsInZtIiwidGV4dCIsImFwcGx5QmluZGluZ3MiXSwibWFwcGluZ3MiOiJBQUFBQSxFQUFBQyxVQUFBQyxNQUFBLFdBRUEsUUFBQUMsV0FBQUMsS0FDQSxHQUFBQyxNQUFBQyxJQUVBRCxNQUFBRSxjQUFBLEdBQ0FGLEtBQUFHLE9BQUFDLEdBQUFDLFdBQUEsSUFDQUMsUUFBQUosY0FBQUYsS0FBQUUsZ0JBRUFGLEtBQUFPLFFBQUFILEdBQUFDLFdBQUEsSUFDQUwsS0FBQVEsUUFBQSxXQUNBLE1BQUFSLE1BQUFHLFNBQUFNLE1BQUEsSUFBQVQsS0FBQUcsU0FBQU8sT0FBQSxJQUdBVixLQUFBVyxTQUFBLFdBRUFYLEtBQUFPLFFBQUFLLEtBQUFaLEtBQUFHLFdBQ0FILEtBQUFHLE9BQUEsSUFDQUgsS0FBQWEsb0JBQUEsR0FHQWIsS0FBQWEsb0JBQUEsRUFFQWIsS0FBQWMsU0FBQSxXQUNBZCxLQUFBRyxPQUFBLElBQ0FILEtBQUFPLFFBQUEsS0FFQVAsS0FBQWUsWUFBQSxXQUNBZixLQUFBRyxPQUFBSCxLQUFBRyxTQUFBYSxNQUFBLEVBQUFoQixLQUFBRyxTQUFBTyxPQUFBLEtBR0FWLEtBQUFpQixPQUFBLFNBQUFDLEdBQ0EsT0FBQUEsR0FDQSxJQUFBLElBQ0FsQixLQUFBVyxVQUNBLE1BQ0EsS0FBQSxLQUNBWCxLQUFBYyxVQUNBLE1BQ0EsS0FBQSxJQUNBZCxLQUFBZSxhQUNBLE1BQ0EsS0FBQSxJQUNBZixLQUFBRyxTQUFBTyxPQUFBLElBQ0FRLEVBQUEsSUFDQWxCLEtBQUFtQixPQUFBRCxHQUVBLE1BQ0EsS0FBQSxJQUNBbEIsS0FBQUcsU0FBQU8sT0FBQSxHQUNBVixLQUFBbUIsT0FBQUQsRUFFQSxNQUNBLEtBQUEsSUFDQWxCLEtBQUFHLFNBQUFPLE9BQUEsSUFDQVYsS0FBQW1CLE9BQUEsS0FDQW5CLEtBQUFtQixPQUFBLFNBRUEsTUFDQSxLQUFBLElBQ0FELEVBQUEsSUFDQWpCLEtBQUFtQixjQUNBcEIsS0FBQW1CLE9BQUFELEVBRUEsTUFDQSxTQUNBbEIsS0FBQW1CLE9BQUFELEtBSUFsQixLQUFBb0IsV0FBQSxXQUNBLEdBQ0FDLEdBREFDLEVBQUFyQixLQUFBRSxTQUFBTSxNQUFBLEdBRUEsS0FBQVksRUFBQUMsRUFBQVosT0FBQSxFQUFBVyxHQUFBLEVBQUFBLElBQUEsQ0FDQSxHQUFBLE1BQUFDLEVBQUFELEdBQ0EsT0FBQSxDQUVBLElBQUFwQixLQUFBc0IsV0FBQUQsRUFBQUQsSUFDQSxPQUFBLEVBR0EsT0FBQSxHQUdBckIsS0FBQW1CLE9BQUEsU0FBQUQsR0FDQSxHQUFBTSxHQUFBeEIsS0FBQVEsU0FDQVIsTUFBQXVCLFdBQUFDLElBQUF4QixLQUFBdUIsV0FBQUwsR0FDQWxCLEtBQUFHLE9BQUFILEtBQUFHLFNBQUFhLE1BQUEsRUFBQWhCLEtBQUFHLFNBQUFPLE9BQUEsR0FBQVEsR0FHQWxCLEtBQUFHLE9BQUFILEtBQUFHLFNBQUFlLElBSUFsQixLQUFBdUIsV0FBQSxTQUFBRSxHQUNBLEdBQUFKLEVBQ0EsS0FBQUEsRUFBQSxFQUFBQSxFQUFBSyxNQUFBQyxVQUFBakIsT0FBQVcsSUFDQSxHQUFBSSxJQUFBQyxNQUFBQyxVQUFBTixHQUFBLE9BQUEsQ0FFQSxRQUFBLEdBSUEsR0FBQUssUUFDQUMsV0FBQSxJQUFBLElBQUEsSUFBQSxJQUFBLE1BR0FDLE1BQ0FDLEtBQUEsV0FDQTVCLEtBQUE2QixNQUFBbkMsRUFBQSxTQUNBTSxLQUFBNkIsTUFBQUMsS0FBQSxXQUNBcEMsRUFBQU0sTUFBQStCLE1BQUEsV0FDQUMsR0FBQWhCLE9BQUF0QixFQUFBTSxNQUFBaUMsYUFNQU4sTUFBQUMsTUFFQSxJQUFBSSxJQUFBLEdBQUFuQyxVQUNBTSxJQUFBK0IsY0FBQUYiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuXHRmdW5jdGlvbiBWaWV3TW9kZWwoYXJyKSB7XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0c2VsZi5tYXhDaGFyYWN0ZXJzID0gNTI7XG5cdFx0c2VsZi5tZW1vcnkgPSBrby5vYnNlcnZhYmxlKCcnKVxuXHRcdC5leHRlbmQoeyBtYXhDaGFyYWN0ZXJzOiBzZWxmLm1heENoYXJhY3RlcnMgfSk7XG5cblx0XHRzZWxmLmRpc3BsYXkgPSBrby5vYnNlcnZhYmxlKCcnKTtcblx0XHRzZWxmLmdldExhc3QgPSBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBzZWxmLm1lbW9yeSgpLnNwbGl0KCcnKVtzZWxmLm1lbW9yeSgpLmxlbmd0aCAtIDFdO1xuXHRcdH07XG5cblx0XHRzZWxmLmV2YWx1YXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQvKiBqc2xpbnQgZXZpbDogdHJ1ZSAqL1xuXHRcdFx0c2VsZi5kaXNwbGF5KGV2YWwoc2VsZi5tZW1vcnkoKSkpO1xuXHRcdFx0c2VsZi5tZW1vcnkoJycpO1xuXHRcdFx0c2VsZi5hbGxvd0ZpcnN0T3BlcmF0b3IgPSB0cnVlO1xuXHRcdH07XG5cblx0XHRzZWxmLmFsbG93Rmlyc3RPcGVyYXRvciA9IGZhbHNlO1xuXG5cdFx0c2VsZi5hbGxDbGVhciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0c2VsZi5tZW1vcnkoJycpO1xuXHRcdFx0c2VsZi5kaXNwbGF5KCcnKTtcblx0XHR9O1xuXHRcdHNlbGYuc2luZ2xlQ2xlYXIgPSBmdW5jdGlvbigpIHtcblx0XHRcdHNlbGYubWVtb3J5KHNlbGYubWVtb3J5KCkuc2xpY2UoMCwgc2VsZi5tZW1vcnkoKS5sZW5ndGggLSAxKSk7XG5cdFx0fTtcblxuXHRcdHNlbGYudmVyaWZ5ID0gZnVuY3Rpb24odmFsKSB7XG5cdFx0XHRzd2l0Y2ggKHZhbCkge1xuXHRcdFx0XHRjYXNlICc9Jzpcblx0XHRcdFx0XHRzZWxmLmV2YWx1YXRlKCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ0FDJzpcblx0XHRcdFx0XHRzZWxmLmFsbENsZWFyKCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ0MnOlxuXHRcdFx0XHRcdHNlbGYuc2luZ2xlQ2xlYXIoKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAneCc6XG5cdFx0XHRcdFx0aWYgKHNlbGYubWVtb3J5KCkubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0dmFsID0gJyonO1xuXHRcdFx0XHRcdFx0c2VsZi51cGRhdGUodmFsKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJy8nOlxuXHRcdFx0XHRcdGlmIChzZWxmLm1lbW9yeSgpLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRcdHNlbGYudXBkYXRlKHZhbCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICclJzpcblx0XHRcdFx0XHRpZiAoc2VsZi5tZW1vcnkoKS5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0XHRzZWxmLnVwZGF0ZSgnKicpO1xuXHRcdFx0XHRcdFx0c2VsZi51cGRhdGUoJzEvMTAwJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICcsJzpcblx0XHRcdFx0XHR2YWwgPSAnLic7XG5cdFx0XHRcdFx0aWYgKHRoaXMuY29tbWFWYWxpZCgpKSB7XG5cdFx0XHRcdFx0XHRzZWxmLnVwZGF0ZSh2YWwpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRzZWxmLnVwZGF0ZSh2YWwpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRzZWxmLmNvbW1hVmFsaWQgPSBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBtZW0gPSB0aGlzLm1lbW9yeSgpLnNwbGl0KCcnKTtcblx0XHRcdHZhciBpO1xuXHRcdFx0Zm9yIChpID0gbWVtLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdGlmIChtZW1baV0gPT09ICcuJykge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAodGhpcy5pc09wZXJhdG9yKG1lbVtpXSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fTtcblxuXHRcdHNlbGYudXBkYXRlID0gZnVuY3Rpb24odmFsKSB7XG5cdFx0XHR2YXIgbGFzdCA9IHNlbGYuZ2V0TGFzdCgpO1xuXHRcdFx0aWYoc2VsZi5pc09wZXJhdG9yKGxhc3QpICYmIHNlbGYuaXNPcGVyYXRvcih2YWwpKSB7XG5cdFx0XHRcdHNlbGYubWVtb3J5KHNlbGYubWVtb3J5KCkuc2xpY2UoMCwgc2VsZi5tZW1vcnkoKS5sZW5ndGggLSAxKSArIHZhbCk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0c2VsZi5tZW1vcnkoc2VsZi5tZW1vcnkoKSArIHZhbCk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHNlbGYuaXNPcGVyYXRvciA9IGZ1bmN0aW9uKHgpIHtcblx0XHRcdHZhciBpO1xuXHRcdFx0Zm9yIChpID0gMDsgaSA8IG1vZGVsLm9wZXJhdG9ycy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAoeCA9PT0gbW9kZWwub3BlcmF0b3JzW2ldKSByZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9O1xuXHR9XG5cblx0dmFyIG1vZGVsID0gIHtcblx0XHRvcGVyYXRvcnM6IFsnKycsICctJywgJy8nLCAnKicsICclJ10sXG5cdH07XG5cblx0dmFyIHZpZXcgPSB7XG5cdFx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLiRrZXlzID0gJCgnLmtleXMnKTtcblx0XHRcdHRoaXMuJGtleXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0JCh0aGlzKS5jbGljayhmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2bS52ZXJpZnkoJCh0aGlzKS50ZXh0KCkpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fTtcblxuXHR2aWV3LmluaXQoKTtcblxuXHR2YXIgdm0gPSBuZXcgVmlld01vZGVsKCk7XG5cdGtvLmFwcGx5QmluZGluZ3Modm0pO1xuXG59KTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
