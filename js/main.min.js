$(document).ready(function(){function ViewModel(arr){var self=this;self.maxCharacters=52,self.memory=ko.observable("").extend({maxCharacters:self.maxCharacters}),self.display=ko.observable(""),self.getLast=function(e){return self.memory().split("")[self.memory().length-1]},self.getFirst=function(e){return self.memory().split("")[0]},self.evaluate=function(){var displayLength=self.display().toString().length;if(displayLength>0&&self.isOperator(self.getFirst())){var memArray=self.memory().toString().split("");memArray.unshift(self.display()),self.memory(memArray.join(""))}var calculation=parseFloat(eval(self.memory()));self.isDecimal(calculation.toString())&&(calculation=Math.floor(100*calculation)/100),self.display(Number(calculation).toString()),self.memory(""),self.allowFirstOperator=!0},self.allowFirstOperator=!1,self.isDecimal=function(e){var l;for(l=0;l<e.length;l++)if("."===e[l])return!0;return!1},self.allClear=function(){self.memory(""),self.display(""),self.allowFirstOperator=!1},self.singleClear=function(){self.memory(self.memory().slice(0,self.memory().length-1))},self.verify=function(e){switch(e){case"=":self.evaluate();break;case"AC":self.allClear();break;case"C":self.singleClear();break;case"x":(self.memory().length>0||self.allowFirstOperator)&&(e="*",self.update(e));break;case"/":(self.memory().length>0||self.allowFirstOperator)&&self.update(e);break;case"%":self.display().length>0?(self.update(self.display().toString()+"*1/100"),self.evaluate()):(self.memory().length>0||self.allowFirstOperator)&&(self.evaluate(),self.update("*1/100"),self.evaluate());break;case".":this.commaValid()&&self.update(e);break;default:self.update(e)}},self.commaValid=function(){var e,l=this.memory().split("");for(e=l.length-1;e>=0;e--){if("."===l[e])return!1;if(this.isOperator(l[e]))return!0}return!0},self.update=function(e){var l=self.getLast();if("-"===e&&"-"!==l)self.memory(self.memory()+e);else if(self.isOperator(e)&&self.isOperator(l)){for(;self.isOperator(self.getLast());)self.memory(self.memory().slice(0,self.memory().length-1));(self.allowFirstOperator||self.memory().length>1)&&self.memory(self.memory()+e)}else self.memory(self.memory()+e)},self.isOperator=function(e){var l;for(l=0;l<model.operators.length;l++)if(e===model.operators[l])return!0;return!1}}var model={operators:["+","-","/","*"]},view={init:function(){this.$keys=$(".keys"),this.$keys.each(function(){$(this).click(function(){vm.verify($(this).text())})})}};view.init();var vm=new ViewModel;ko.applyBindings(vm)});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsIlZpZXdNb2RlbCIsImFyciIsInNlbGYiLCJ0aGlzIiwibWF4Q2hhcmFjdGVycyIsIm1lbW9yeSIsImtvIiwib2JzZXJ2YWJsZSIsImV4dGVuZCIsImRpc3BsYXkiLCJnZXRMYXN0Iiwic3RyIiwic3BsaXQiLCJsZW5ndGgiLCJnZXRGaXJzdCIsImV2YWx1YXRlIiwiZGlzcGxheUxlbmd0aCIsInRvU3RyaW5nIiwiaXNPcGVyYXRvciIsIm1lbUFycmF5IiwidW5zaGlmdCIsImpvaW4iLCJjYWxjdWxhdGlvbiIsInBhcnNlRmxvYXQiLCJldmFsIiwiaXNEZWNpbWFsIiwiTWF0aCIsImZsb29yIiwiTnVtYmVyIiwiYWxsb3dGaXJzdE9wZXJhdG9yIiwiaSIsImFsbENsZWFyIiwic2luZ2xlQ2xlYXIiLCJzbGljZSIsInZlcmlmeSIsInZhbCIsInVwZGF0ZSIsImNvbW1hVmFsaWQiLCJtZW0iLCJsYXN0IiwieCIsIm1vZGVsIiwib3BlcmF0b3JzIiwidmlldyIsImluaXQiLCIka2V5cyIsImVhY2giLCJjbGljayIsInZtIiwidGV4dCIsImFwcGx5QmluZGluZ3MiXSwibWFwcGluZ3MiOiJBQUFBQSxFQUFBQyxVQUFBQyxNQUFBLFdBRUEsUUFBQUMsV0FBQUMsS0FDQSxHQUFBQyxNQUFBQyxJQUVBRCxNQUFBRSxjQUFBLEdBRUFGLEtBQUFHLE9BQUFDLEdBQUFDLFdBQUEsSUFDQUMsUUFBQUosY0FBQUYsS0FBQUUsZ0JBRUFGLEtBQUFPLFFBQUFILEdBQUFDLFdBQUEsSUFFQUwsS0FBQVEsUUFBQSxTQUFBQyxHQUNBLE1BQUFULE1BQUFHLFNBQUFPLE1BQUEsSUFBQVYsS0FBQUcsU0FBQVEsT0FBQSxJQUVBWCxLQUFBWSxTQUFBLFNBQUFILEdBQ0EsTUFBQVQsTUFBQUcsU0FBQU8sTUFBQSxJQUFBLElBR0FWLEtBQUFhLFNBQUEsV0FHQSxHQUFBQyxlQUFBZCxLQUFBTyxVQUFBUSxXQUFB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LFFBQUEsR0FJQSxHQUFBVyxRQUNBQyxXQUFBLElBQUEsSUFBQSxJQUFBLE1BR0FDLE1BQ0FDLEtBQUEsV0FDQXpDLEtBQUEwQyxNQUFBaEQsRUFBQSxTQUNBTSxLQUFBMEMsTUFBQUMsS0FBQSxXQUNBakQsRUFBQU0sTUFBQTRDLE1BQUEsV0FDQUMsR0FBQWQsT0FBQXJDLEVBQUFNLE1BQUE4QyxhQU1BTixNQUFBQyxNQUVBLElBQUFJLElBQUEsR0FBQWhELFVBQ0FNLElBQUE0QyxjQUFBRiIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG5cdGZ1bmN0aW9uIFZpZXdNb2RlbChhcnIpIHtcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRzZWxmLm1heENoYXJhY3RlcnMgPSA1MjtcblxuXHRcdHNlbGYubWVtb3J5ID0ga28ub2JzZXJ2YWJsZSgnJylcblx0XHQuZXh0ZW5kKHsgbWF4Q2hhcmFjdGVyczogc2VsZi5tYXhDaGFyYWN0ZXJzIH0pO1xuXG5cdFx0c2VsZi5kaXNwbGF5ID0ga28ub2JzZXJ2YWJsZSgnJyk7XG5cblx0XHRzZWxmLmdldExhc3QgPSBmdW5jdGlvbihzdHIpIHtcblx0XHRcdHJldHVybiBzZWxmLm1lbW9yeSgpLnNwbGl0KCcnKVtzZWxmLm1lbW9yeSgpLmxlbmd0aCAtIDFdO1xuXHRcdH07XG5cdFx0c2VsZi5nZXRGaXJzdCA9IGZ1bmN0aW9uKHN0cikge1xuXHRcdFx0cmV0dXJuIHNlbGYubWVtb3J5KCkuc3BsaXQoJycpWzBdO1xuXHRcdH07XG5cblx0XHRzZWxmLmV2YWx1YXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQvLyBJZiB0aGVyZSdzIGEgcmVzdWx0IGFscmVhZHkgZXZhbHVhdGVkIG9uIGRpc3BsYXkgdGhlbiBhcHBlbmQgdG8gbWVtb3J5IHRvIGtlZXBcblx0XHRcdC8vIGdvaW5nIHdpdGggY2FsY3VsYXRpb25zXG5cdFx0XHR2YXIgZGlzcGxheUxlbmd0aCA9IHNlbGYuZGlzcGxheSgpLnRvU3RyaW5nKCkubGVuZ3RoO1xuXHRcdFx0aWYgKGRpc3BsYXlMZW5ndGggPiAwICYmIHNlbGYuaXNPcGVyYXRvcihzZWxmLmdldEZpcnN0KCkpKSB7XG5cdFx0XHRcdC8vIENvbnZlcnQgbWVtb3J5IHRvIGFycmF5XG5cdFx0XHRcdHZhciBtZW1BcnJheSA9IHNlbGYubWVtb3J5KCkudG9TdHJpbmcoKS5zcGxpdCgnJyk7XG5cdFx0XHRcdC8vIEFkZCBkaXNwbGF5IHZhbHVlIHRvIGJlZ2lubmluZ1xuXHRcdFx0XHRtZW1BcnJheS51bnNoaWZ0KHNlbGYuZGlzcGxheSgpKTtcblx0XHRcdFx0c2VsZi5tZW1vcnkobWVtQXJyYXkuam9pbignJykpO1xuXHRcdFx0fVxuXHRcdFx0LyoganNsaW50IGV2aWw6IHRydWUgKi9cblx0XHRcdHZhciBjYWxjdWxhdGlvbiA9IHBhcnNlRmxvYXQoZXZhbChzZWxmLm1lbW9yeSgpKSk7XG5cdFx0XHRpZiAoc2VsZi5pc0RlY2ltYWwoY2FsY3VsYXRpb24udG9TdHJpbmcoKSkpIHtcblx0XHRcdFx0Ly8gRGVhbHMgd2l0aCAwLjEgKyAwLjIgZXJyb3IgYW5kIDk5OTk5OTk5OTk5OTk5LzEwIGlzIG5vdCAxMDAwMDAwMDAwMDAwMDAwMFxuXHRcdFx0XHRjYWxjdWxhdGlvbiA9IE1hdGguZmxvb3IoY2FsY3VsYXRpb24gKiAxMDApIC8gMTAwO1xuXHRcdFx0fVxuXHRcdFx0Ly8gQ29udmVydCB0byBOdW1iZXIgdG8gcmVtb3ZlIHRyYWlsaW5nIHplcm9zXG5cdFx0XHRzZWxmLmRpc3BsYXkoTnVtYmVyKGNhbGN1bGF0aW9uKS50b1N0cmluZygpKTtcblx0XHRcdC8vIENsZWFyIG1lbW9yeVxuXHRcdFx0c2VsZi5tZW1vcnkoJycpO1xuXHRcdFx0c2VsZi5hbGxvd0ZpcnN0T3BlcmF0b3IgPSB0cnVlO1xuXHRcdH07XG5cblx0XHRzZWxmLmFsbG93Rmlyc3RPcGVyYXRvciA9IGZhbHNlO1xuXG5cdFx0c2VsZi5pc0RlY2ltYWwgPSBmdW5jdGlvbihzdHIpIHtcblx0XHRcdHZhciBpO1xuXHRcdFx0Zm9yIChpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZihzdHJbaV0gPT09ICcuJykgcmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fTtcblxuXHRcdHNlbGYuYWxsQ2xlYXIgPSBmdW5jdGlvbigpIHtcblx0XHRcdHNlbGYubWVtb3J5KCcnKTtcblx0XHRcdHNlbGYuZGlzcGxheSgnJyk7XG5cdFx0XHRzZWxmLmFsbG93Rmlyc3RPcGVyYXRvciA9IGZhbHNlO1xuXHRcdH07XG5cblx0XHRzZWxmLnNpbmdsZUNsZWFyID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRzZWxmLm1lbW9yeShzZWxmLm1lbW9yeSgpLnNsaWNlKDAsIHNlbGYubWVtb3J5KCkubGVuZ3RoIC0gMSkpO1xuXHRcdH07XG5cblx0XHRzZWxmLnZlcmlmeSA9IGZ1bmN0aW9uKHZhbCkge1xuXHRcdFx0c3dpdGNoICh2YWwpIHtcblx0XHRcdFx0Y2FzZSAnPSc6XG5cdFx0XHRcdFx0c2VsZi5ldmFsdWF0ZSgpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdBQyc6XG5cdFx0XHRcdFx0c2VsZi5hbGxDbGVhcigpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdDJzpcblx0XHRcdFx0XHRzZWxmLnNpbmdsZUNsZWFyKCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ3gnOlxuXHRcdFx0XHRcdGlmIChzZWxmLm1lbW9yeSgpLmxlbmd0aCA+IDAgfHwgc2VsZi5hbGxvd0ZpcnN0T3BlcmF0b3IpIHtcblx0XHRcdFx0XHRcdHZhbCA9ICcqJztcblx0XHRcdFx0XHRcdHNlbGYudXBkYXRlKHZhbCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICcvJzpcblx0XHRcdFx0XHRpZiAoc2VsZi5tZW1vcnkoKS5sZW5ndGggPiAwIHx8IHNlbGYuYWxsb3dGaXJzdE9wZXJhdG9yKSB7XG5cdFx0XHRcdFx0XHRzZWxmLnVwZGF0ZSh2YWwpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnJSc6XG5cdFx0XHRcdFx0Ly8gaWYgdGhlcmUncyBzb21ldGhpbmcgb24gdGhlIGRpc3BsYXkgdXNlIGZvciBjYWxjdWxhdGlvbnNcblx0XHRcdFx0XHRpZiAoc2VsZi5kaXNwbGF5KCkubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0c2VsZi51cGRhdGUoc2VsZi5kaXNwbGF5KCkudG9TdHJpbmcoKSArICcqMS8xMDAnKTtcblx0XHRcdFx0XHRcdHNlbGYuZXZhbHVhdGUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAoc2VsZi5tZW1vcnkoKS5sZW5ndGggPiAwIHx8IHNlbGYuYWxsb3dGaXJzdE9wZXJhdG9yKSB7XG5cdFx0XHRcdFx0XHRzZWxmLmV2YWx1YXRlKCk7XG5cdFx0XHRcdFx0XHRzZWxmLnVwZGF0ZSgnKjEvMTAwJyk7XG5cdFx0XHRcdFx0XHRzZWxmLmV2YWx1YXRlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICcuJzpcblx0XHRcdFx0XHRpZiAodGhpcy5jb21tYVZhbGlkKCkpIHtcblx0XHRcdFx0XHRcdHNlbGYudXBkYXRlKHZhbCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdHNlbGYudXBkYXRlKHZhbCk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHNlbGYuY29tbWFWYWxpZCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG1lbSA9IHRoaXMubWVtb3J5KCkuc3BsaXQoJycpO1xuXHRcdFx0dmFyIGk7XG5cdFx0XHRmb3IgKGkgPSBtZW0ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0aWYgKG1lbVtpXSA9PT0gJy4nKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICh0aGlzLmlzT3BlcmF0b3IobWVtW2ldKSkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9O1xuXG5cdFx0c2VsZi51cGRhdGUgPSBmdW5jdGlvbih2YWwpIHtcblx0XHRcdHZhciBsYXN0ID0gc2VsZi5nZXRMYXN0KCk7XG5cdFx0XHRpZiAodmFsID09PSAnLScgJiYgbGFzdCAhPT0gJy0nKSB7XG5cdFx0XHRcdFx0c2VsZi5tZW1vcnkoc2VsZi5tZW1vcnkoKSArIHZhbCk7XG5cdFx0XHR9XG5cblx0XHRcdGVsc2UgaWYgKHNlbGYuaXNPcGVyYXRvcih2YWwpICYmIHNlbGYuaXNPcGVyYXRvcihsYXN0KSkge1xuXHRcdFx0XHR3aGlsZSAoc2VsZi5pc09wZXJhdG9yKHNlbGYuZ2V0TGFzdCgpKSkge1xuXHRcdFx0XHRcdHNlbGYubWVtb3J5KHNlbGYubWVtb3J5KCkuc2xpY2UoMCwgc2VsZi5tZW1vcnkoKS5sZW5ndGggLSAxKSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHNlbGYuYWxsb3dGaXJzdE9wZXJhdG9yIHx8IHNlbGYubWVtb3J5KCkubGVuZ3RoID4gMSkgc2VsZi5tZW1vcnkoc2VsZi5tZW1vcnkoKSArIHZhbCk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0c2VsZi5tZW1vcnkoc2VsZi5tZW1vcnkoKSArIHZhbCk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHNlbGYuaXNPcGVyYXRvciA9IGZ1bmN0aW9uKHgpIHtcblx0XHRcdHZhciBpO1xuXHRcdFx0Zm9yIChpID0gMDsgaSA8IG1vZGVsLm9wZXJhdG9ycy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAoeCA9PT0gbW9kZWwub3BlcmF0b3JzW2ldKSByZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9O1xuXHR9XG5cblx0dmFyIG1vZGVsID0gIHtcblx0XHRvcGVyYXRvcnM6IFsnKycsJy0nLCcvJywgJyonXVxuXHR9O1xuXG5cdHZhciB2aWV3ID0ge1xuXHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy4ka2V5cyA9ICQoJy5rZXlzJyk7XG5cdFx0XHR0aGlzLiRrZXlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCQodGhpcykuY2xpY2soZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dm0udmVyaWZ5KCQodGhpcykudGV4dCgpKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH07XG5cblx0dmlldy5pbml0KCk7XG5cblx0dmFyIHZtID0gbmV3IFZpZXdNb2RlbCgpO1xuXHRrby5hcHBseUJpbmRpbmdzKHZtKTtcblxufSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
